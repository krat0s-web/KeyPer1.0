{% extends "maison_app/base.html" %}
{% block title %}Ajouter une TÃ¢che{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card border-0 shadow-lg rounded-4">
            <div class="card-header" style="background: #000; color: white; border-radius: 16px 16px 0 0;">
                <h4 class="mb-0">âœ… Nouvelle TÃ¢che</h4>
            </div>
            <div class="card-body p-4">
                <form method="post">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label class="form-label">Titre <span class="text-danger">*</span></label>
                        <input type="text" name="titre" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Description</label>
                        <textarea name="description" class="form-control" rows="3"></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Date limite</label>
                        <input type="date" name="date_limite" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">PrioritÃ©</label>
                        <select name="priorite" class="form-select">
                            <option value="">â€”</option>
                            <option value="Haute">ðŸ”´ Haute</option>
                            <option value="Moyenne">ðŸŸ¡ Moyenne</option>
                            <option value="Basse">ðŸŸ¢ Basse</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">PiÃ¨ce</label>
                        <select name="id_piece" class="form-select">
                            <option value="">â€” Aucune piÃ¨ce â€”</option>
                            {% for piece in pieces %}
                            <option value="{{ piece.id }}">{{ piece.nom }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Animal (optionnel)</label>
                        <select name="id_animal" class="form-select">
                            <option value="">â€” Aucun animal â€”</option>
                            {% for animal in animaux %}
                            <option value="{{ animal.id }}">{{ animal.nom }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">ðŸ‘¤ Assigner Ã  (optionnel)</label>
                        <select name="assignees" class="form-select" multiple>
                            <option value="">-- SÃ©lectionner des membres --</option>
                            {% for membre in membres %}
                            <option value="{{ membre.id }}">{% if membre.nom %}{{ membre.nom }}{% else %}{{ membre.email }}{% endif %}</option>
                            {% endfor %}
                        </select>
                        <small class="text-muted">Maintenez Ctrl/Cmd pour sÃ©lectionner plusieurs</small>
                    </div>
                    <button type="submit" class="btn w-100" style="background: #000; color: white; font-weight: bold;">Ajouter la tÃ¢che</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}